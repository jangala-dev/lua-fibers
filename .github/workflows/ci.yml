name: Continuous Integration

on: [pull_request]

jobs:
  validate-pr:
    runs-on: ubuntu-22.04

    steps:
    - name: Check out repository
      uses: actions/checkout@v2

    - name: Run custom install script
      run: |
        chmod +x .devcontainer/postCreateCommand.sh
        ./.devcontainer/postCreateCommand.sh

    - name: Change Directory
      run: cd tests
    
    - name: Run Tests
      run: lua.test.lua

    - name: Change Directory
      run: cd ../

    - name: Run Linter
      run: luacheck .
    